# トランザクションについて

## ACID特性

#### A
Atomicity (原子性)


トランザクションは、完全に完了する or もとに戻す のどちらかでなくていはいけない

`write A`と`write B`の2つの処理が`Transaction X`だとすると`write A`だけもしくは`write B`だけが完了していてはいけない。

残りも完全に完了するか、ロールバックして操作をもとに戻す必要がある。

#### C
Consistency (整合性、一貫性)

*コレはいまいちよく分かっていない*

予め与えられた整合性をトランザクションの前後で保たなくてはいけない。

例えば、銀行口座の残高は負になってはいけない、負になる場合は送金できないようにする。などのルールを保証するのが一貫性である。

#### I

Isolation (独立性)

トランザクションAで変更しているデータをトランザクションBでは処理できない。

トランザクションが直列化されている必要がある。(おそらく直列化して処理すると速度に問題があるので、厳密には直列ではないはず。だがそう見えるようにはなっているはず)

#### D

Durability (永続性)

一旦コミットしたら、結果は失われてはいけない
